<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: new-question.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: new-question.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*global define*/
/**
 * new question view
 * @param  {object} jquery object
 * @param  {underscore} 'underscore'
 * @param  {Object} 'backbone'   [description]
 * @param  {Function} 'templates' compiled templates
 * @return {Function} function
 */
define([
    'jquery',
    'underscore',
    'backbone',
    'templates'
], function ($, _, Backbone, JST) {
    'use strict';

    var HomeView = Backbone.View.extend({
        template: JST['app/scripts/templates/new-question.ejs'],

        tagName: 'div',

        id: '',

        className: '',

        events: {
          "click .btn-newqs": "postNewQuestion",
          "keyup .question-ta": "countChars",
          "change .question-ta": "countChars"
        },

        initialize: function () {
            this.listenTo(this.model, 'change', this.render);
            this.render();
        },

        render: function () {
            this.$el.html(this.template());
        },

        /**
         * posts a new question
         * @param  {Event} e event
         */
        postNewQuestion: function( e ) {
          var $taQues = this.$el.find('#question-ta'),
              ques = $.trim( $taQues.val() ),
              self = this;

          e.preventDefault();
          e.stopPropagation();

          if( ques ) {
            this.model.set({
              "title": ques,
              "profileId": 1
            });

            this.model.save()
                .done( function() {
                    self.$el.find('.alert.alert-success').removeClass('hide');
                } )
                .fail( function() {
                    self.$el.find('.alert.alert-warning').removeClass('hide');
                });
          }

        },
        /**
         * counts characters
         * @param  {Evetn} e keyup event
         */
        countChars: function(e) {
          var $taQues = this.$el.find('#question-ta'),
              ques = $.trim( $taQues.val() );

          this.$el.find('.char-count').text(ques.length);
        }

    });

    return HomeView;
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#checkLiked">checkLiked</a></li><li><a href="global.html#countChars">countChars</a></li><li><a href="global.html#postNewQuestion">postNewQuestion</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Thu Oct 08 2015 21:47:56 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
